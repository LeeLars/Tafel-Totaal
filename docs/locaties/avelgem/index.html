<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- SEO Meta Tags -->
  <title>Servies & Tafelverhuur Avelgem | Tafel Totaal</title>
  <meta name="description" content="Professionele servies- en tafelverhuur in Avelgem. Levering mogelijk!">
  <meta name="robots" content="index, follow">
  <link rel="canonical" href="https://tafeltotaal.com/locaties/avelgem/">
  
  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Servies & Tafelverhuur Avelgem | Tafel Totaal">
  <meta property="og:description" content="Professionele servies- en tafelverhuur in Avelgem. Levering mogelijk!">
  <meta property="og:image" content="/images/site/Logo-T-T-Zwart-transparant.png">
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/images/site/Favicon-tafel-totaal.png">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Roboto+Mono:wght@400;500;600&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- Stylesheets -->
  <link rel="stylesheet" href="/css/variables.css">
  <link rel="stylesheet" href="/css/base.css">
  <link rel="stylesheet" href="/css/components.css">
  <link rel="stylesheet" href="/css/utilities.css">
  <link rel="stylesheet" href="/css/pages/location-detail.css">
  <link rel="stylesheet" href="/css/pages/location-hero-new.css">
</head>
<body>
  <!-- Header -->
  <div id="header-container"></div>

  <main>
    <!-- Marquee Section -->
    <div class="marquee-section">
      <div class="marquee-track">
        <div class="marquee-content">
          <span>LEVERING IN AVELGEM</span> <span class="separator">•</span>
          <span>GEEN AFWAS</span> <span class="separator">•</span>
          <span>SERVIES & MEUBILAIR</span> <span class="separator">•</span>
          <span>VOOR ELK EVENT</span> <span class="separator">•</span>
          <span>LEVERING IN AVELGEM</span> <span class="separator">•</span>
          <span>GEEN AFWAS</span> <span class="separator">•</span>
          <span>SERVIES & MEUBILAIR</span> <span class="separator">•</span>
          <span>VOOR ELK EVENT</span> <span class="separator">•</span>
        </div>
        <div class="marquee-content" aria-hidden="true">
          <span>LEVERING IN AVELGEM</span> <span class="separator">•</span>
          <span>GEEN AFWAS</span> <span class="separator">•</span>
          <span>SERVIES & MEUBILAIR</span> <span class="separator">•</span>
          <span>VOOR ELK EVENT</span> <span class="separator">•</span>
          <span>LEVERING IN AVELGEM</span> <span class="separator">•</span>
          <span>GEEN AFWAS</span> <span class="separator">•</span>
          <span>SERVIES & MEUBILAIR</span> <span class="separator">•</span>
          <span>VOOR ELK EVENT</span> <span class="separator">•</span>
        </div>
      </div>
    </div>

    <!-- New Split-Screen Hero -->
    <section class="location-hero">
      <!-- Left: Content -->
      <div class="location-hero__content">
        <nav class="location-hero__breadcrumbs" aria-label="Breadcrumb">
          <a href="/">Home</a>
          <span>/</span>
          <a href="/locaties/">Locaties</a>
          <span>/</span>
          <span class="active">Avelgem</span>
        </nav>

        <div class="location-hero__badge">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
          West-Vlaanderen
        </div>

        <h1 class="location-hero__title">
          Tafelverhuur
          <span class="location-hero__title-highlight">Avelgem</span>
        </h1>

        <p class="location-hero__description">
          Professionele servies- en tafelverhuur in Avelgem. Van intieme diners tot grote recepties, wij verzorgen uw complete tafeldekking.
        </p>

        <div class="location-hero__info">
          <div class="location-hero__info-item">
            <span class="location-hero__info-label">Prijzen</span>
            <span class="location-hero__info-value" style="font-size: var(--font-size-base); font-family: var(--font-body);">Bereken uw prijs in de checkout</span>
          </div>
        </div>

        <div class="location-hero__cta">
          <a href="/pakketten/" class="btn btn--primary btn--lg">
            Bekijk Pakketten
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="5" y1="12" x2="19" y2="12"></line>
              <polyline points="12 5 19 12 12 19"></polyline>
            </svg>
          </a>
          <a href="/producten/" class="btn btn--secondary btn--lg">Bekijk Losse Producten</a>
        </div>
      </div>

      <!-- Right: Visual with Stats -->
      <div class="location-hero__visual">
        <img src="/images/site/hero-table-setting.jpg" alt="Tafelverhuur Avelgem" class="location-hero__image" loading="eager">
        <div class="location-hero__overlay">
          <div class="location-hero__stats">
            <div class="location-hero__stat">
              <span class="location-hero__stat-value">500+</span>
              <span class="location-hero__stat-label">Events</span>
            </div>
            <div class="location-hero__stat">
              <span class="location-hero__stat-value">100%</span>
              <span class="location-hero__stat-label">Service</span>
            </div>
            <div class="location-hero__stat">
              <span class="location-hero__stat-value">0%</span>
              <span class="location-hero__stat-label">Afwas</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- USPs Grid -->
    <section class="usps-grid">
      <div class="usp-item" data-animate="scale" class="delay-1">
        <div class="usp-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
        </div>
        <h3>Lokale Service</h3>
        <p>Wij kennen Avelgem en leveren stipt op tijd op uw locatie.</p>
      </div>
      
      <div class="usp-item" data-animate="scale" class="delay-2">
        <div class="usp-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>
        </div>
        <h3>Wij Doen de Afwas</h3>
        <p>Lever alles vuil in. Wij zorgen voor de professionele reiniging.</p>
      </div>

      <div class="usp-item" data-animate="scale" class="delay-3">
        <div class="usp-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
            <line x1="8" y1="21" x2="16" y2="21"></line>
            <line x1="12" y1="17" x2="12" y2="21"></line>
          </svg>
        </div>
        <h3>Alles voor uw Event</h3>
        <p>Van borden en bestek tot tafels en stoelen.</p>
      </div>
    </section>

    <!-- Main Content -->
    <div class="content-wrapper">
      
      <section class="content-row" data-animate="fade-up">
        <div class="content-label">
          <span class="content-number">01</span>
          <h2>Serviesverhuur Avelgem</h2>
        </div>
        <div class="content-body">
          <p>Tafel Totaal is uw specialist in <strong>servies verhuur</strong> voor Avelgem. Ons complete servies omvat borden, kommen, schalen en serveermateriaal. Perfect voor bruiloften, communiefeesten, bedrijfsevents en verjaardagsfeesten.</p>
        </div>
      </section>
      
      <section class="content-row" data-animate="fade-up">
        <div class="content-label">
          <span class="content-number">02</span>
          <h2>Contact & Levering</h2>
        </div>
        <div class="content-body">
          <p>Wij leveren in heel Avelgem en omgeving. Neem contact met ons op voor een vrijblijvende offerte.</p>
        </div>
      </section>
      
    </div>

    <!-- Sub-municipalities Section -->
    <section id="submunicipalities-section" class="content-row" data-animate="fade-up" style="display: none;">
      <div class="content-label">
        <span class="content-number">03</span>
        <h2>Deelgemeenten</h2>
      </div>
      <div class="content-body">
        <p><strong>Wij leveren ook in de volgende deelgemeenten:</strong></p>
        <div id="submunicipalities-list" class="sub-municipalities-grid">
          <!-- Will be loaded dynamically -->
        </div>
      </div>
    </section>

    <!-- Products Showcase -->
    <section class="products-section">
      <div class="section-header">
        <h2>Populair in Avelgem</h2>
        <a href="/producten/" class="btn-link">Bekijk Alles →</a>
      </div>
      
      <div id="products-grid" class="products-grid">
        <div class="loading-placeholder">Producten laden...</div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <div id="footer-container"></div>

  <!-- Scripts -->
  <script type="module">
    import { loadLocationProducts } from '/js/lib/location-products.js';
    document.addEventListener('DOMContentLoaded', () => {
      loadLocationProducts(3);
    });
  </script>
  <script type="module">
    import { formatPrice } from '/js/lib/utils.js';
    
    async function loadLocationComponents() {
      const basePath = window.location.hostname.includes('github.io') ? '/Tafel-Totaal' : '';
      
      try {
        const headerResponse = await fetch(`${basePath}/components/header.html`);
        if (headerResponse.ok) {
          document.getElementById('header-container').innerHTML = await headerResponse.text();
          const headerScript = document.createElement('script');
          headerScript.type = 'module';
          headerScript.textContent = `
            import { initHeader } from '/js/components/header.js';
            initHeader();
          `;
          document.body.appendChild(headerScript);
        }
      } catch (error) {
        console.error('Error loading header:', error);
      }
      
      try {
        const footerResponse = await fetch(`${basePath}/components/footer.html`);
        if (footerResponse.ok) {
          document.getElementById('footer-container').innerHTML = await footerResponse.text();
        }
      } catch (error) {
        console.error('Error loading footer:', error);
      }
    }
    
    loadLocationComponents();
    
    async function loadProducts() {
      try {
        const API_BASE = window.location.hostname.includes('github.io')
          ? 'https://tafel-totaal-production.up.railway.app'
          : 'http://localhost:3000';
        
        const response = await fetch(`${API_BASE}/api/products?limit=4`);
        const data = await response.json();
        
        if (data.success && data.data) {
          renderProducts(data.data);
        }
      } catch (error) {
        console.error('Error loading products:', error);
      }
    }
    
    function renderProducts(products) {
      const grid = document.getElementById('products-grid');
      if (!grid || !products.length) return;
      
      grid.innerHTML = products.map((product, i) => `
        <article class="product-card" data-animate="scale" style="animation-delay: ${i * 0.1}s;">
          <a href="/product.html?id=${product.id}" class="product-link">
            <div class="product-image">
              <img src="${product.images?.[0] || '/images/products/placeholder.jpg'}" 
                   alt="${product.name}" 
                   loading="lazy">
            </div>
            <div class="product-info">
              <span class="product-category">${product.category_name || 'Product'}</span>
              <h3 class="product-title">${product.name}</h3>
              <p class="product-price">${formatPrice(product.price_per_day)} <span>/dag</span></p>
            </div>
          </a>
        </article>
      `).join('');
    }
    
    loadProducts();
    
    async function loadSubMunicipalities() {
      try {
        const BASE_PATH = window.location.hostname.includes('github.io') ? '/Tafel-Totaal' : '';
        const response = await fetch(`${BASE_PATH}/data/all-locations.json`);
        const data = await response.json();
        
        const allLocations = [
          ...data['west-vlaanderen'],
          ...data['oost-vlaanderen']
        ];
        
        const pageSlug = window.location.pathname.split('/').pop().replace('.html', '');
        
        const subMunicipalities = allLocations.filter(loc => 
          loc.slug === pageSlug && loc.parent !== null
        );
        
        if (subMunicipalities.length > 0) {
          const section = document.getElementById('submunicipalities-section');
          const list = document.getElementById('submunicipalities-list');
          
          list.innerHTML = subMunicipalities.map(sub => `
            <div class="sub-municipality-card">
              <span class="sub-municipality-name">${sub.name}</span>
              <span class="sub-municipality-zip">${sub.postal_codes.join(', ')}</span>
            </div>
          `).join('');
          
          section.style.display = 'grid';
        }
      } catch (error) {
        console.error('Error loading sub-municipalities:', error);
      }
    }
    
    loadSubMunicipalities();
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
    
    document.querySelectorAll('[data-animate]').forEach(el => {
      observer.observe(el);
    });
  </script>
</body>
</html>